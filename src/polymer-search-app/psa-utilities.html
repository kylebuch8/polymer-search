<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom module="psa-utilities">
  <script>
    Polymer({
      is: 'psa-utilities',

      truncate: function (input, maxLength) {
        if (!input || !maxLength) {
          return;
        }

        if (input.length > maxLength) {
          input = input.substring(0, 256) + '&hellip;';
        }

        return input;
      },

      replacehex: function (input) {
        if (!input) {
          return;
        }

        input = input.replace(/%[A-Fa-f0-9]{2}/g, function (char) {
          /*
           * use parseInt(character, 16) to convert from hex to
           * decimal and then use fromCharCode to get the corresponding
           * character
           */
          return String.fromCharCode(parseInt(char.substring(1), 16));
        });

        return input;
      },

      intlFormat: function (date) {
        var formattedDate = new Intl.DateTimeFormat('en', {
          month: 'short',
          day: 'numeric',
          year: 'numeric'
        }).format(new Date(date));

        return formattedDate;
      }
    });
  </script>
</dom-module>
